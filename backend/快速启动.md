# Strapi 快速启动指南

## 问题修复

已修复数据库配置问题。现在支持两种数据库：

### 方案一：使用 PostgreSQL（推荐，最简单）

#### 使用 Docker（推荐，无需安装 PostgreSQL）

```bash
# 1. 启动 PostgreSQL 容器
docker run --name strapi-postgres \
  -e POSTGRES_PASSWORD=strapi \
  -e POSTGRES_DB=strapi_dev \
  -p 5432:5432 \
  -d postgres:14

# 2. 在 backend/.env 文件中添加：
DATABASE_URL=postgresql://postgres:strapi@localhost:5432/strapi_dev

# 3. 启动 Strapi
npm run develop
```

#### 本地安装 PostgreSQL

```bash
# macOS
brew install postgresql@14
brew services start postgresql@14
createdb strapi_dev

# 在 backend/.env 中添加：
DATABASE_URL=postgresql://localhost:5432/strapi_dev
```

### 方案二：使用 SQLite（如果 sqlite3 安装成功）

```bash
# 尝试安装 sqlite3（可能需要编译工具）
npm install sqlite3 --save

# 如果安装失败，使用 PostgreSQL（方案一）
```

## 当前配置

数据库配置已更新为：
- 如果设置了 `DATABASE_URL`，使用 PostgreSQL
- 否则尝试使用 SQLite（需要 sqlite3 包）

## 推荐流程

1. **使用 Docker 启动 PostgreSQL**（最简单）
2. **配置 .env 文件**（添加 DATABASE_URL）
3. **启动 Strapi**

```bash
# 一键启动（如果已安装 Docker）
docker run --name strapi-postgres \
  -e POSTGRES_PASSWORD=strapi \
  -e POSTGRES_DB=strapi_dev \
  -p 5432:5432 \
  -d postgres:14

# 添加 DATABASE_URL 到 .env
echo "DATABASE_URL=postgresql://postgres:strapi@localhost:5432/strapi_dev" >> backend/.env

# 启动 Strapi
cd backend && npm run develop
```

